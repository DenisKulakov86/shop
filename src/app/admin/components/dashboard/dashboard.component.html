<!-- <button class="btn btn-primary mr-1 " (click)="edit()">Изменить</button> -->



<div class="form-group">
	<button class="btn btn-primary" (click)="create()">Добавить товар</button>
	<!-- <button class="btn btn-danger ml-3" (click)="delBranch()"> Удалить ветку</button> -->
	<button class="btn btn-primary" (click)="getCount()">next</button>
</div>

<div class="w-100 overflow-auto ">

	<!-- <div class="form-inline py-1"> -->

	<div class="form-group d-flex p-1 ">
		<label class="col-form-label mr-2" for="category ">Категория</label>
		<!-- <div class="col-sm-5"> -->
		<select ngModel (ngModelChange)="setCategory($event)" class="form-control w-auto" id="category">
			<option value="">Все</option>
			<option *ngFor="let cat of category; index as i;">{{cat}}
			</option>
		</select>
		<!-- </div> -->
	</div>
	<!-- <div class="form-group col-6 row">

			<button class=" btn btn-primary mx-1" type="button" (click)="setLimit(-1)">
				-
			</button>
			<input class="w-25 d-inline-block form-control" [ngModel]="limit" (ngModelChange)="ps.setLimit($event)"
				type="number" min="1" />
			<button class="btn btn-primary mx-1 " type="button" (click)="setLimit(1)">
				+
			</button>
		</div> -->
	<!-- </div> -->


	<table class="table table-hover mt-3">
		<thead class="thead-light">
			<th>&#8470;</th>
			<th>Название</th>
			<th>Категория</th>
			<th class="text-nowrap">Кол-во</th>
			<th>Цена</th>
			<th></th>
		</thead>
		<tbody>
			<tr *ngFor="let prod of (products$ | async) | slice: (page-1) * pageSize: (page-1) * pageSize + pageSize; index as i"
				(click)="edit(prod.key)">
				<th>{{i + 1}}</th>
				<td class="text-center">
					<img class="thumb" src="{{prod.img}}">
					<div class="product-name text-break">
						{{prod.name}}
					</div>
				</td>
				<td>{{prod.category}}</td>
				<td>{{ prod.size | sum }}</td>
				<td>{{prod.price}}</td>
				<td><button class="btn btn-danger" (click)="$event.stopPropagation();delete(prod.key)">Удалить</button>
				</td>
			</tr>
		</tbody>
	</table>
	<ngb-pagination class="d-flex justify-content-center" [pageSize]="pageSize" [collectionSize]="collectionSize"
		[(page)]="page" aria-label="pagination">
	</ngb-pagination>
</div>